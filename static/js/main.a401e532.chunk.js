(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{40:function(e,t,a){e.exports=a(95)},45:function(e,t,a){},47:function(e,t,a){},67:function(e,t,a){},69:function(e,t,a){},71:function(e,t,a){},83:function(e,t,a){},85:function(e,t,a){},88:function(e,t,a){},90:function(e,t,a){},93:function(e,t,a){},95:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(8),i=a.n(r),c=(a(45),a(16)),o=a(19),s=a(10),d=a(11),u=a(13),m=a(12),h=a(14),g=a(97),E=a(100),f=a(99),p=a(96),w=(a(47),a(15)),v=a.n(w),b={getWidget:function(e){return v.a.get("https://walles-widgets.herokuapp.com/widgets/".concat(e,".json"))},getWidgets:function(){return v.a.get("https://walles-widgets.herokuapp.com/widgets.json",{crossdomain:!0})},filterWidgets:function(e){v.a.get("https://walles-widgets.herokuapp.com/widgets.json",{crossdomain:!0}).then(function(t){return t.filter(function(t){return t.color===e})})},createWidget:function(e){return v.a.post("https://walles-widgets.herokuapp.com/widgets.json",e)}},S=(a(67),function(e){return l.a.createElement("div",{className:"header-container"},l.a.createElement("h1",{className:"header-title"},e.title))}),C=(a(69),function(e){return l.a.createElement("div",{className:"search-container"},l.a.createElement("form",{className:"search-form"},l.a.createElement("label",{htmlFor:"search"},"Search:"),l.a.createElement("input",{type:"text",name:"search",id:"search",onChange:e.handleSearchInput}),l.a.createElement("button",{onClick:e.submitSearch},"Search")),e.children)}),W=(a(71),a(39)),O=function(e){var t=["All"].concat(Object(o.a)(e.colors)).map(function(e){return{label:e,value:e}});return l.a.createElement("div",{className:"search-container"},l.a.createElement(W.a,{value:e.selectedOption,onChange:e.handleColorFilter,options:t}))},j=(a(83),a(85),a(9)),y=a.n(j),N=function(e){var t,a=y()(e.created_at).month().toString()+"/"+y()(e.created_at).days()+"/"+y()(e.created_at).year().toString().slice(2),r=y()(e.updated_at).month().toString()+"/"+y()(e.updated_at).days()+"/"+y()(e.updated_at).year().toString().slice(2);return t=e.description.length>=10?e.description:e.description.slice(0,9)+"...",l.a.createElement(n.Fragment,null,l.a.createElement("tr",null,l.a.createElement("td",{className:"widget-index-item",onClick:function(){return e.selectWidget(e.id)}},l.a.createElement(p.a,{to:"/widgets/".concat(e.id)},e.id)),l.a.createElement("td",{className:"widget-index-item"},e.name),l.a.createElement("td",{className:"widget-index-item"},e.color),l.a.createElement("td",{className:"widget-index-item"},t),l.a.createElement("td",{className:"widget-index-item"},e.size),l.a.createElement("td",{className:"widget-index-item"},r),l.a.createElement("td",{className:"widget-index-item"},a)))},k=function(e){var t=e.widgets,a=e.children;return l.a.createElement("table",{className:"widgets-container"},l.a.createElement("tbody",null,a,t.map(function(t){return l.a.createElement(N,{name:t.name,url:t.url,id:t.id,color:t.color,size:t.size.title,description:t.description,updated_at:t.updated_at,created_at:t.created_at,key:t.id,selectWidget:e.selectWidget})})))},x=(a(88),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).placeholder=function(){},a.state={id:e.widget?e.widget:window.location.href.slice(-2),widget:null,viewMachine:!1},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.getWidget(this.state.id).then(function(t){var a=t.data;e.setState({widget:a})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this.state.widget;if(null===e)return l.a.createElement("div",null);var t=this.state.widget.machine;return l.a.createElement("div",null,l.a.createElement(p.a,{to:"/"},"Back to Home"),l.a.createElement("h2",null,e.name[0].toUpperCase()+e.name.slice(1)),l.a.createElement("ul",null,l.a.createElement("li",null,"ID: ",e.id," "),l.a.createElement("li",null,"Color: ",e.color),l.a.createElement("li",null,"Name: ",e.name),l.a.createElement("li",null,"Size: ",e.size.title)),l.a.createElement("h3",null,"Machine Information"),l.a.createElement("ul",null,l.a.createElement("li",null,"ID: ",t.id),l.a.createElement("li",null,"Title: ",t.title),l.a.createElement("li",null,"Created: ",t.created_at)))}}]),t}(l.a.Component)),F=a(98),z=(a(90),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleSubmit=function(e){console.log(a.state),e.preventDefault();var t={widget:{name:a.state.name,color:a.state.color,description:a.state.description,size_id:parseInt(a.state.size),machine_id:1}};b.createWidget(t).then(function(e){201==e.status&&a.setState({success:!0})}).catch(function(e){return console.log(e)})},a.handleChange=function(e){var t=e.target,n=t.name,l=t.value;a.setState(Object(c.a)({},n,l))},a.state={showForm:!1,name:"",color:"",description:"",size:"",success:!1,errors:void 0},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return this.state.success?l.a.createElement(F.a,{to:"/"}):l.a.createElement("div",null,l.a.createElement(p.a,{to:"/"},"Back to Home"),l.a.createElement("form",null,l.a.createElement("h2",null,"Create A Widget!"),l.a.createElement("li",null,l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"widget-name"},"Name")),l.a.createElement("input",{type:"text",name:"name",id:"widget-name",onChange:this.handleChange})),l.a.createElement("li",null,l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"widget-color"},"Color")),l.a.createElement("input",{type:"text",name:"color",id:"widget-color",onChange:this.handleChange})),l.a.createElement("li",null,l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"widget-description"},"Description")),l.a.createElement("textarea",{type:"text",name:"description",id:"widget-description",rows:"4",cols:"50",onChange:this.handleChange})),l.a.createElement("li",null,l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"widget-size"},"Size")),l.a.createElement("input",{type:"text",name:"size",id:"widget-size",onChange:this.handleChange})),l.a.createElement("button",{onClick:this.handleSubmit},"Create Your New Widget")))}}]),t}(n.Component)),_=(a(93),function(e){e.colors;return l.a.createElement(n.Fragment,null,l.a.createElement("tr",null,l.a.createElement("th",null,"ID"),l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Color"),l.a.createElement("th",null,"Description"),l.a.createElement("th",null,"Size"),l.a.createElement("th",null,"Last Updated"),l.a.createElement("th",null,"Created At")))}),D=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).populate=function(){b.getWidgets().then(function(e){var t=e.data;a.setState({widgets:t,selectedWidgets:t})}).catch(function(e){return a.setState({widgets:[],err:e,message:"No New Widgets Found, Try a Different Query"})})},a.handleColorFilter=function(e){if(a.setState({selectedOption:e}),"All"===e.value)a.setState({selectedWidgets:a.state.widgets});else{var t=Object(o.a)(a.state.widgets).filter(function(t){return t.color===e.value});a.setState({selectedWidgets:t})}},a.handleSearchInput=function(e){var t=e.target,n=t.name,l=t.value;a.setState(Object(c.a)({},n,l))},a.submitSearch=function(){},a.selectWidget=function(e){a.setState({selectedWidget:e})},a.filter=function(e){b.filterWidgets(e).then(function(e){var t=e.data;a.setState({widgets:t})}).catch(function(e){return a.setState({widgets:[],err:e,message:"No Widgets Found, Try a Different Query"})})},a.onlyUnique=function(e,t,a){return a.indexOf(e)===t},a.state={search:"",selectedOption:null,widgets:[],selectedWidgets:[],widget:{},colors:[],sizes:[],advancedSearch:!1},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.populate()}},{key:"render",value:function(){var e=this,t=this.state.widgets.map(function(e){return e.color}).filter(this.onlyUnique);return l.a.createElement("div",{className:"App"},l.a.createElement(g.a,null,l.a.createElement("div",null,l.a.createElement(S,{title:"Widgets Brew"}),l.a.createElement(E.a,null,l.a.createElement(f.a,{exact:!0,path:"/",render:function(a){return l.a.createElement(n.Fragment,null,l.a.createElement(C,{search:e.state.search,handleSearchInput:e.handleSearchInput,submitSearch:e.submitSearch,showAdvancedSearch:e.state.advancedSearch},l.a.createElement(O,{colors:t,search:e.state.search,disabled:e.state.advancedSearch,selectedOption:e.state.selectedOption,handleColorFilter:e.handleColorFilter,submitSearch:e.submitSearch}),l.a.createElement(p.a,{to:"/new"},"Create a New Widget!")),l.a.createElement(k,Object.assign({},a,{widgets:e.state.selectedWidgets,selectWidget:e.selectWidget}),l.a.createElement(_,{filter:e.filter,colors:t})))}}),l.a.createElement(f.a,{exact:!0,path:"/widgets/:widget",render:function(t){return l.a.createElement(x,{widget:e.state.selectedWidget})}}),l.a.createElement(f.a,{exact:!0,path:"/new",render:function(e){return l.a.createElement(z,null)}})))))}}]),t}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[40,2,1]]]);
//# sourceMappingURL=main.a401e532.chunk.js.map